<%= turbo_stream.append "message_threads" do %>
  <% @message_threads.each do |message_thread| %>
    <%= render MessageThreadsTableRowComponent.new(message_thread: message_thread) %>
  <% end %>
<% end %>
<% if @message_threads.any? %>
  <%= turbo_stream.append "next_page_area" do %>
    <%= render Turbo::NextPageComponent.new(
    id:@next_cursor, 
    url:params[:tag_id] ?
        tag_message_threads_url(tag_id: params[:tag_id], :cursor => @next_cursor, format: :turbo_stream) :
        message_threads_url(:cursor => @next_cursor, format: :turbo_stream)
    ) %>
  <% end %>
<% else %>
  <%= turbo_stream.replace "next_page_area" do %>
  <% end %>
<% end %>

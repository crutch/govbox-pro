<%= render TW::FlashComponent.new(flash: flash) %>
<%= render MessageThreadsTableComponent.new do |component| %>
  <% @message_threads.each do |message_thread| %>
    <% component.with_message_thread do %>
      <%= render MessageThreadsTableRowComponent.new(message_thread: message_thread) %>
    <% end %>
  <% end %>
  <% component.with_next_page_area do %>
    <%= render Turbo::NextPageAreaComponent.new(
      id: @next_cursor,
      url: params[:tag_id] ?
        tag_message_threads_url(tag_id: params[:tag_id], :cursor => @next_cursor, format: :turbo_stream) :
        message_threads_url(:cursor => @next_cursor, format: :turbo_stream)
      )
    %>
  <% end %>
<% end %>

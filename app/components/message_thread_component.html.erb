<div class="flex flex-col justify-stretch items-stretch">
  <%= render MessageThreadHeaderComponent.new(@message_thread, @thread_tags_with_deletable_flag) %>
  <div class="flex flex-col justify-stretch items-stretch gap-2 p-4">
    <% @notice.each do |type, msg| %>
      <div class="bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 w-full" role="alert">
        <p class="font-bold"><%= msg %></p>
      </div>
    <% end %>
    <% @thread_messages.each do |message| %>
      <% if message.type == 'MessageDraft' %>
        <%= render MessageDraftComponent.new(message: message) %>
      <% elsif message.read %>
        <%= render CollapsedMessageComponent.new(message: message) %>
      <% else %>
        <%= render MessageComponent.new(message: message) %>
      <% end %>
    <% end %>
  </div>
</div>
